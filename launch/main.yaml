launch:
  - let:
      name: pkg_name
      value: "sinsei_umiusi_control"
  - let:
      name: ros2_control_common
      value: "$(find-pkg-share $(var pkg_name))/launch/include/ros2_control_common.py"

  - arg:
      name: args
      description: "Path to the launch arguments file"
      default: "$(find-pkg-share $(var pkg_name))/params/launch_args.yaml"

  - include:
      file: "$(var args)"

  - group:
      - push_ros_namespace:
          namespace: "$(var namespace)"

      - include:
          file: "$(var ros2_control_common)"

      - node:
          pkg: "controller_manager"
          exec: "spawner"
          args: |
            thruster_controller_lf
            thruster_controller_lb
            thruster_controller_rb
            thruster_controller_rf
            app_controller
            gate_controller
            --param-file $(var controllers_param_file)
